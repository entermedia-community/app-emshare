#set( $collectiveid = $context.getRequestParameter("collectionid"))
#set( $searcher = $mediaarchive.getSearcher("collectiveproject") )

#if($caneditcollection)
	#set( $alltopics = $searcher.query().match("parentcollectionid",$collectiveid).sort("name").search($context) )
#else
	#set( $alltopics = $searcher.query().match("parentcollectionid",$collectiveid).exact("teamproject","false").sort("name").search($context) )
#end
<div class="collaborate-content collaborate-channels" >
<h3>[[Topics]]
#if( $caneditcollection)	
	 <a href="$apphome/collective/projects/addnew.html?collectionid=$librarycol.getId()&collectionroot=$applink/collective/community" 
	 class="emdialog community-add-btn float-right" style=""><i class="fas fa-plus"></i></a>
#end
</h3>
#if( $subs.isEmpty()) 
	<span>[[No topics started]]</span>
#else 
	<ul class="">
	  #foreach( $hit in $alltopics)
	     <li class="#if($currenttopic.getId()==$hit.getId()) current #end">
		<a href="$apphome/collective/community/index.html?collectionid=$collectiveid&topic=$hit.getId()">
		#if($caneditcollection)
			#if ($hit.teamproject == "true")
				<i class="fas fa-lock"></i>
			#else 
				<i class="fas fa-lock-open"></i>
			#end
		#end 
		$hit.name</a></li>
	  #end
	</ul>
#end

</div>