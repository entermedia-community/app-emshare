#set($type = $componentcontent.componenttype)

#ifnull($type)
#set($type = $context.getRequestParameter("type"))
#end

#ifnull($type)
#set($type = "paragraph")
#end

#set($ordering = $componentcontent.ordering)

#ifnull($ordering)
  #set($ordering = $context.getRequestParameter("ordering"))
#end

#ifnull($ordering)
  #set($ordering = 1)
#end

#set($data = $componentcontent.content)

#ifnotnull($data)
  $context.putPageValue("data", $data)
#end

<div class="creator-section-content"
  #ifnotnull($componentcontent)
    id="component-$componentcontent.id"
    data-dataid="$componentcontent.id"
    data-ordering="$componentcontent.ordering"
  #end>
  <div class="editable-content"
    data-sectionid="${section.id}"
    #ifnotnull($componentcontent)
      data-componentcontentid="$componentcontent.id"
    #end
    data-componenttype="$type"
    data-ordering="$ordering"
    data-savepath="$applink/components/smartcreator/section/create-content.html"
    title="[[Click to edit]]"
    >
    $pages.include("./types/${type}.html", $context)
  </div>
  $pages.include("./ai-action.html", $context)
  <div class="action-btn-container">
    <div class="action-btn-group light-dropdown">
      $pages.include("./component-action.html", $context)
    </div>
  </div>
</div>