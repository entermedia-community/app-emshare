#if( !$values && $data )
	#set($values = $data.getValues($detail.id) )
#end



#set( $searcher = $searcherManager.getSearcher($detail.getListCatalogId(), $detail.getListId() ))

#set($entity_module = $detail.getListId())

	<ul class="entity-value-list" id="entitypicker${detail.id}">
		#foreach( $type in $values )
			#set( $row = false )
			#set( $row = $searcher.searchById($type) )
		    #if( $row )
			    #set($entityid = $row.id)
			    #set($link = "$!{siteroot}$applink/views/modules/$!{entity_module}/components/gridsample/preview/entity.html?id=$entityid")
			    <li>
					
			    <a href="$link" 
			    	class="emdialog entity-dialog" 
			    	data-noesc="true" 
			    	data-entityid="$!row.getId()">#text($row)</a>  
			    	<a class="removeentity"  href="#" title="[[Remove]]" onclick='$(this).closest("li").remove(); return false;'><i class="bi bi-x"></i></a>
			    	<input type="hidden" name="${detail.id}.value" value="$!row.getId()" />
			    </li>
		    #end 
		#end
		 <li style="display: none;" id="pickedtemplateREPLACEID">
		    <a href="$!{siteroot}$applink/views/modules/$!{entity_module}/components/gridsample/preview/entity.html?id=REPLACEID" 
		    	class="emdialog entity-dialog" 
		    	data-noesc="true"
		    	onclick='  return false;'></a>  
		    	<a class="removeentity" href="#" title="[[Remove]]" onclick='$(this).closest("li").remove();  return false;'><i class="bi bi-x"></i></a>
		    	<input type="hidden" name="REPLACEFIELDNAME${detail.id}.value" value="REPLACEID" />
		    </li>	
	</ul>
	
	#set($pickmoduleid = $detail.getListId())
	
	#set($pickerurl= "$applink/views/modules/$!{pickmoduleid}/components/entities/search/searchpicker.html")
	<a href="$pickerurl" 
		class="emdialog btn btn-sm btn-primary"
		data-dialogid="entitypicker"
		data-width="1200"
		data-entitymodule="${entity_module}"
		data-pickertarget="entitypicker${detail.id}"
		data-pickersearchaddnew="true"
		data-hidefooter="true">[[Add]]</a>
		
	
	
	
	