#set($idcount = $context.getRequestParameter("idcount"))
#if(!$idcount)
	#set($idcount = "")
#end

<div class="assetpicker">

<div class="render-type-thumbnail" id="${detail.id}-preview" style="padding: 4px;">
#if($val && $val != "")
	#set( $foundrow = $mediaarchive.getAsset($val)  )
	#if($foundrow)
		$pages.include("$apphome/components/xml/types/assetpicker/preview.html?assetid=$val", $context)
		<div style="padding:5px 0;">
		<a href="#" class="removefieldassetvalue" 
			data-targetdivinner="${detail.id}-preview"
			title="[[Remove Asset Selected]]" 
			data-detailid="${detail.id}"
			><i class="fas fa-times"></i> [[Clear Selection]]</a>
		</div>
	#end
#end
</div>

<input type="hidden" name="${detail.id}.value" id="${detail.id}-value" value="$!foundrow.id"/>


 
<span class="btn btn-sm btn-primary btn-default btn-file">
    [[Upload]] 
	<input type="file" name="file.${detail.getId()}" id="${detail.id}-file" onchange='$("#${detail.id}-file-info").html($(this).val());'>
</span>
[[or]]
<a href="$siteroot$apphome/components/assetpicker/search/searchassets.html?targetdiv=${detail.id}-value&detailid=${detail.id}" 
	data-target="$siteroot$apphome/components/assetpicker/search/searchassets.html?targetdiv=${detail.id}-value&detailid=${detail.id}"
	data-dialogid="assetsearchdialog" 
	 
	class="emdialog  btn btn-primary" >[[Browse]]</a> 

<span id="${detail.id}-file-info" style="font-size:90%"></span>


</div>
