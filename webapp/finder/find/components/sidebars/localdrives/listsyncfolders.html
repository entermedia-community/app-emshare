<div id="syncFolderList">
  <p class="alert alert-verify p-2 mx-2 mt-1 mb-2 text-center #if($verifynow) verifynow #end">
    <i class="bi bi-check-circle ns mr-1"></i> 
    <span>[[All folders are synced with the server]].</span><br>
    <button class="btn btn-sm rounded mt-2" id="syncAllFolders" disabled>[[Verifying...]]</button>
  </p>
  <div class="#if($needsUpload) autoUpload #end"></div>
  <div class="work-dir-tree">
    #ifnull($syncfolders)
      #set($syncfolders = $mediaarchive.query("desktopsyncfolder").exact("desktop", $desktop.id).exact("module", $module.id).sort("name").search())
    #end
    #foreach($syncfolder in $syncfolders) 
    <div class="work-folder" id="wf-$syncfolder.id" title="Open: $syncfolder.localpath" data-id="$syncfolder.id" data-localpath="$syncfolder.localpath" data-categorypath="$syncfolder.categorypath" data-entityid="$syncfolder.entityid">
      <div class="d-flex flex-column flex-grow-1 p-2 position-relative open-folder">
        <div class="up-progress" style="width:0%"></div>
        <p class="my-0"><i class="fl fas fa-folder"></i> $syncfolder.name</p>
        <small class="mt-1"><span class="localsubfoldercount">$!{syncfolder.localsubfoldercount}</span> [[folders]], <span class="localitemcount">$!{syncfolder.localitemcount}</span> files &middot; <b class="filesize autoFileSize">$!{syncfolder.localtotalsize}</b></small>
      </div>

      #set($previewurl = "$!{siteroot}$apphome/views/modules/$!{module.id}/components/gridsample/preview/entity.html?id=$!{syncfolder.entityid}")

      <button class="btn deleteAutoFolder" data-id="$syncfolder.id">
        <i class="bi bi-dash-square"></i>
      </button>
      <a href="$!{previewurl}" class="emdialog entity-dialog" title="[[Show the folder in Server]]">
        <i class="bi bi-box-arrow-up-right"></i>
      </a>
    </div>
    #end
  </div>
</div>