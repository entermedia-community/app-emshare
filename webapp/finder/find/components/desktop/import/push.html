<div class="entityuploadheader" style="font-size:1rem; font-weight: 600;">[[Push Local Changes To The Server]]</div>
<div class="sync-container mt-2">  
	
	  <div class="sync-folder mx-4 my-4">
    <span>[[Import from]]:</span>
    <input id="pushSaveFolder" type="text" class="form-control" placeholder="[[Import From Folder]]" readonly 
    		value="$!assetmap.filedownloadpath">
    <button class="btn btn-brand ml-2 open-folder" data-path="$!assetmap.filedownloadpath">
      [[Open]]
    </button>
    <button class="btn-unstyled refresh-sync-push ml-2">
      <i class="bi bi-arrow-repeat ns"></i>
    </button>
  </div>
	

  #set( $files = $assetmap.files )
  
  #if($files.size() > 0)
  <div class="my-3 py-1 sync-stage new">
    <div class="d-flex align-items-center justify-content-between px-1 py-2">
      <a href="#pullfiles" data-toggle="collapse" role="button">
        <i class="bi bi-file-plus ns mr-1"></i> $files.size() [[new files]]#if($files.size()>1)s#end [[found on your local drive]]
      </a>
      <button class="btn btn-success rounded ml-2 upload-push">
        <i class="bi bi-cloud-arrow-up-fill mr-1"></i> [[Upload]]
      </button>
    </div>
    <ul id="pushfiles" class="collapse list-unstyled overflow-y px-1">
    #foreach( $file in $files)
      <li class="d-flex" 
      	data-categorypath="$!assetmap.categorypath" 
      	data-path="$file.path"
      	data-size="$file.size"  
      	data-abspath="$file.abspath">
        <a href="$file.url" class="mr-2"> ##should be file preview url
          <i class="bi bi-eye-fill ns"></i>
        </a>
        <span>$file.path</span>
        <button class="ml-auto mr-2 btn-unstyled pull-individual">
          <i class="bi bi-download ns"></i>
        </button>
      </li>
    #end
    </ul>
  </div>
  #end
  
  
  #set( $missingfiles = $missingassetmap.files )
  
  #if($missingfiles.size() > 0)
  <div class="my-3 py-1 sync-stage new">
    <div class="d-flex align-items-center justify-content-between px-1 py-2">
      <a href="#pullfiles" data-toggle="collapse" role="button">
        <i class="bi bi-file-plus ns mr-1"></i>  [[Your local drive is missing]] $missingfiles.size() [[file]]
      </a>
      <div>
      <button class="btn btn-danger rounded ml-2 upload-push">
        <i class="bi bi-cloud-arrow-up-fill mr-1"></i> [[Remove Files On Server]]
      </button>
      <div class="py-1">
             		<a  class='ajax entitytabactions refresh-sync '
					data-tabsection="pulllocal"
					href="$applink/views/modules/${moduleid}/components/gridsample/preview/tabexport.html?entityid=$!entity.getId()">
					[[Or pull from server]]
				</a>
		</div>
      </div>
    </div>
    <ul id="pushfiles" class="collapse list-unstyled overflow-y px-1">
    #foreach( $file in $missingfiles)
      <li class="d-flex" 
      	data-categorypath="$!assetmap.categorypath" 
      	data-path="$file.path"
      	data-size="$file.size"  
      	data-abspath="$file.abspath">
        <a href="$file.url" class="mr-2"> ##should be file preview url
          <i class="bi bi-eye-fill ns"></i>
        </a>
        <span>$file.path</span>
        <button class="ml-auto mr-2 btn-unstyled pull-individual">
          <i class="bi bi-download ns"></i>
        </button>
      </li>
    #end
    </ul>
  </div>
  #end
  
  
  
  #if($missingfiles.size() < 1 && $files.size() < 1)
    <div class="d-flex align-items-center justify-content-center my-3 px-2 py-2 sync-stage synced">
    <span>
      [[You are up to date!]]
    </span>
  </div>
  #end
</div>