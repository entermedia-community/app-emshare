
#set($moduleid = $module.getId())
#if (!$rendertype && $moduleid)
	#if(!$module)
		#set($module = $mediaarchive.getCachedData("module", $moduleid))
	#end
   	#set($rendertype = $module.modulerendertype)
#end
#if (!$rendertype)
   		#set($rendertype = "entity")
#end
<div class="moduleindex"
	data-hitssessionid="$!hits.getSessionId()"
	data-url="$apphome/views/modules/$!{module.id}/index.html"
	data-oemaxlevel="1">
	
	
 	<div class="emgrid-box expandedmodule">
 		<div class="expandedgrid-subtitle">
 		
  		<h3>
     	#set($moduleicon = "entity")
     	#if ($module.moduleicon)
     		#set($moduleicon = $module.moduleicon)
     	#end
     	
    		#set($entityurl = "$siteroot$apphome/views/modules/$module.id/index.html")

		<img src="$siteroot$apphome/theme/images/entity/${moduleicon}.svg" style="height: 26px;"> 

				#set( $count = $hits.size()) 
				#text($module)
				 <span class="count">($count)</span>
		</h3>
		
	
	#if($permissions.can($moduleid, "create"))
	<div class="clearfix"></div>
	
	<div class="" style="padding-top:10px">
		<a class="btn-sm btn-blue emdialog " 
			style="margin-right: 5px;"
			data-updateurl="true" 
			data-targetdivinner="applicationmaincontent" 
			data-oemaxlayout="3" 
			href="$siteroot$applink/views/modules/${moduleid}/components/gridsample/preview/$!{rendertype}.html?edit=true&addnew=true&viewid=$!{module.id}addnew&targetdiv=applicationmaincontent"
			title="[[Add New]] #text($module)">
			<i class="fas fa-plus"></i> [[New]]</a>
	</div>
	#end
	
		
	
	<div class="clearfix"></div>
</div>

<div id="${moduleid}resultsarea" 
 	class="resultsarea"
	data-hitssessionid="$!hits.getSessionId()"
	##data-autoreloadevents="entitysave"
	data-moduleid="$!module.id"
	data-searchtype="$!module.id"
	data-url="$apphome/views/modules/$!{module.id}/index.html"
	data-oemaxlevel="1"
 	>
$pages.include("$componenthome/results/index.html", $context)
<div class="clearfix"></div>
</div>

</div>

</div>