#if ($asset)
	#set ($hit = $asset)
#end
#if (!$hit)
	#set ($hit = $asset)
#end

#if (!$hit)
	#set ($hit = $data)
#end

#set ($sourcepath = $hit.sourcepath)
#set ( $urlutils = $context.getPageValue("url_util"))
#if ($urlutils)
	#set ( $sourcepath = $urlutils.encode($sourcepath))
	#set ( $sourcepath = $sourcepath.replace("%2F", "/") )
#end

#set( $imagesize = "image200x200.jpg")
#if($thumbsize == "largepreview")
	#set($imagesize = "image3000x3000.png")
#elseif($thumbsize == "mediumplus")
	#set($imagesize = "image550x350.jpg")
#elseif($thumbsize == "crop")
	#set($imagesize = "image110x62cropped.jpg")
#end		


#set($tpath = $mediaarchive.asLinkToPreview($hit, $imagesize))
<div id="emthumbholder" class="emthumbholder">
	#if( $hit.importstatus && $hit.importstatus == "uploading" )
		$pages.include("$componenthome/uploadqueue/uploadstatus.html?assetid=${hit.id}",$context)	
	#elseif( !$hit.importstatus || $hit.importstatus != "complete" )
		$context.putPageValue("thumbsize", $thumbsize)
		$pages.include("$searchhome/convertqueue/importstatus.html?assetid=$!{hit.id}",$context)
	
	#elseif( $hit.previewstatus && $hit.previewstatus == "mime")
		#set ($mime = $mediaarchive.getMimeTypeIcon($hit.fileformat))
		<div class="mimethumbcontainer">
       	<i class="bi bi-$!mime mimeicon"  title="#if($title)#esc($title)#else$!{hit.name}#end" ></i>
       </div>
	#else
		
		
    	<img id=""  class="imagethumb  document   assetdragdrop img-fluid" 
    		alt="#if($title)#esc($title)#else$!{hit.name}#end"
    		draggable="true" data-sourcepath="$sourcepath" data-name="#if($title)#esc($title)#else$!{hit.name}#end" data-hidenav="$hidenav"
    	 src="$tpath" border="0" />
   		
		
	#end
</div>

