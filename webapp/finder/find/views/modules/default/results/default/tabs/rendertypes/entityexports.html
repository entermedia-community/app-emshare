
#ifnull($entitymoduleviewid)
#set($entitymoduleviewid = $context.getRequestParameter("entitymoduleviewid"))
#end
#set($tabid = "tab_$entitymoduleviewid")

#set ( $tabsection = $context.getRequestParameter("tabsection") )
#ifnull($tabsection)
#set ( $tabsection = "share")
#end

#set($defaultcategory = $mediaarchive.getEntityManager().createDefaultFolder($entity, $context.getUser()))
$context.putPageValue("defaultcategory", $defaultcategory)
$context.putPageValue("defaultcategoryid", $defaultcategory.getId())

#set($tabmode = 1)
$context.putPageValue("tabmode", $tabmode)

<div id="$!submodulepickerid" class="d-flex align-items-stretch" style="height: 100%;">
		<div class='entityimport auto-active-container overflow-y'>
			#if($permissions.can($module.id, "shareentity"))	
				<div class='auto-active-row #if($tabsection=="share") current #end'>
				<a href="$componenthome/share/entity.html?entityid=$!{entity.id}&defaultcategoryid=$!defaultcategory.getId()"
				class='btn btn-lg btn-wide ajax auto-active-link'
				data-targetdivinner="tabexportcontent"
				data-oemaxlevel="1"><i class="bi bi-share-fill"></i> <span>[[Share Links]]</span></a>
				</div>
			#end	
			#if($permissions.can($module.id, "publishinggallery"))	
				<div class='auto-active-row #if($tabsection=="sharegallery") current #end'>
				<a href="$apphome/views/modules/${module.id}/editors/entitygallery/index.html?entityid=$!{entity.id}&defaultcategoryid=$!defaultcategory.getId()"
				class='btn btn-lg btn-wide ajax auto-active-link'
				data-targetdiv="tabexportcontent"
				data-oemaxlevel="1"><i class="bi bi-columns-gap"></i> <span>[[Publish Gallery]]</span></a>
				</div>
				
				
				<div class='auto-active-row #if($tabsection=="sharecarousel") current #end'>
				<a href="$apphome/views/modules/${module.id}/editors/entitycarousel/index.html?entityid=$!{entity.id}&defaultcategoryid=$!defaultcategory.getId()"
				class='btn btn-lg btn-wide ajax auto-active-link'
				data-targetdivinner="tabexportcontent"
				data-oemaxlevel="1"><i class="bi bi-images"></i> <span>[[Publish Carousel]]</span></a>
				</div>
			#end	
				<div class='auto-active-row #if($tabsection=="sharegallery") current #end disabled' style="display: none;">
				<a href="#"
				class='btn btn-lg btn-wide ajaxX auto-active-link'
				data-targetdivinner="tabexportcontent"
				data-oemaxlevel="1"><i class="bi bi-columns"></i> <span>[[Folder Viewer]]</span></a>
				</div>
				
			
			#if($permissions.can($module.id, "copyentity"))
			<div class='auto-active-row #if($tabsection=="copy") current #end'>
			<a class='ajax btn btn-lg btn-wide  auto-active-link '
				data-targetdivinner="tabexportcontent"
				data-oemaxlevel="1"
				data-targetcategoryid="$!defaultcategory.id"
				data-tabsection="copy"
				href="$componenthome/entities/copydialog.html?entityid=$!{entity.id}&defaultcategoryid=$defaultcategory.getId()">
				<i class="bi bi-folder-plus"></i> <span>[[Copy]]</span></a>
			</div>
			#end
			#if($permissions.can($module.id, "moveentity"))
			<div class='auto-active-row #if($tabsection=="move") current #end'>
			<a class='ajax btn btn-lg btn-wide auto-active-link '
				data-targetdivinner="tabexportcontent"
				data-oemaxlevel="1"
				data-tabsection="move"
				data-targetcategoryid="$!defaultcategory.id"
				href="$componenthome/entities/movedialog.html?entityid=$!{entity.id}&defaultcategoryid=$defaultcategoryid">
				<i class="bi bi-folder-plus"></i> <span>[[Move]]</span></a>
			</div>
			#end
			
			
					
			#if($permissions.can($module.id, "downloadall"))
				<div class='auto-active-row  #if($tabsection=="downloadzip") current #end'>
				<a class='ajax btn btn-lg btn-wide auto-active-link '
				data-targetdivinner="tabexportcontent"
				data-oemaxlevel="1"
				data-tabsection="download"
				title="[[Download All Files]]"
				href="$componenthome/entities/download.html?entityid=$!{entity.id}&defaultcategoryid=$defaultcategory.getId()">
				<i class="bi bi-folder"></i> <span>[[Download Zip]]</span></a>
				</div>
			#end
	
				
				#if($desktop && $permissions.can($module.id, "exportpulltoserver"))
				<div class='auto-active-row #if($tabsection=="pulllocal") current #end'>
				<a  class='btn btn-lg btn-wide ajax auto-active-link '
					data-targetdivinner="tabexportcontent"
					data-oemaxlevel="1"
					data-entityid="$!{entity.id}"
					data-defaultcategoryid="$!defaultcategory.getId()"
					data-tabsection="pulllocal"
					href="$componenthome/desktop/export/pull.html">
					<i class="bi bi-folder-symlink"></i> <span>[[Bulk Downloader]]</span>
				</a>
				</div>
				#end
				
		</div>
		 
		
		<div id="tabexportcontent" class="entitytabcolumcontent">
			#if($tabsection=="share")
				$pages.include("$componenthome/share/entity.html?entityid=$!{entity.id}", $context)
			#elseif($tabsection=="sharegallery")
				$pages.include("${searchhome}/tabs/preview/tabpublishing_gallery.html?entityid=$!{entity.id}&defaultcategoryid=$defaultcategory.getId()", $context)
			#elseif($tabsection=="sharecarousel")
				$pages.include("${searchhome}/tabs/preview/tabpublishing_carousel.html?entityid=$!{entity.id}&defaultcategoryid=$defaultcategory.getId()", $context)
			#elseif($tabsection=="copy")
				$pages.include("$componenthome/entities/copydialog.html?entityid=$!{entity.id}&defaultcategoryid=$defaultcategory.getId()", $context)
			#elseif($tabsection=="downloadzip")
				$pages.include("$componenthome/entities/download.html?entityid=$!{entity.id}&defaultcategoryid=$defaultcategory.getId()", $context)
			#elseif($tabsection=="pulllocal")
				$pages.include("$componenthome/desktop/export/pull.html?entityid=$!{entity.id}&defaultcategoryid=$defaultcategory.getId()", $context)
			#end
		</div>
		
</div>
