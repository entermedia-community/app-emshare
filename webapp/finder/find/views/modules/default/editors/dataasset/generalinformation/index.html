#if($asset.isLocked())
	#set($userlock = $asset.getLockOwner())
	#if($userlock.id != $user.id)
		#set($caneditasset = false)	
		$context.putPageValue("caneditasset", $caneditasset)
	#end
#end
<div
	id="tabsummarypanel"	
	#if(!$ismulti && $asset.isLocked() && $userlock.id != $user.id)
		class="tab-pane ajaxstatus"
		data-ajaxrunning="true" 
		data-interval="5000"
	  	data-ajaxpath="$siteroot${apphome}/views/modules/asset/editors/dataasset/generalinformation/index.html"
		data-oemaxlevel="1"
		data-assetid="$asset.getId()"
	#else
		class="tab-pane"
	#end
	>
	##TODO: Enforce View Metadata permission
	#set($hitssessionid = $hits.sessionId )
	#if(!$hitssessionid)
		#set( $hitssessionid = $context.getRequestParameter("hitssessionid") )
	#end
	$context.putPageValue("showalllanguagevalues",true)
	#set( $collectionid = $context.getRequestParameter("collectionid") )
	 
	
	
	<div class="row h-100 g-0">
		<div class="col-12 col-md-6 h-100">
				#set( $ismulti = $asset.id.startsWith("multiedit:") || $context.getRequestParameter("multi") == "true")
		        #if( $ismulti )
		        
	   				<div class="media-player-mini">
		                <div class="primary" style="padding:20% 20%;">
		                <div class="alert alert-info">
		                [[Editing across]] <strong>$asset.size() [[assets]]</strong></div>
		                </div>
		        	</div>
		        
		        #else
					$pages.include("${apphome}/views/modules/asset/mediaviewer/player/summary.html",$context)
				#end
				
		</div>	
		<div class="col-12 col-md-6 h-100">
				<div class="tab-details">
					
					$pages.include("${edithome}/generalinformation/metadatapanel.html", $context)
		
				</div>	
					
				
				
				#set($view = "assetreadmetadata")
				#set($hitssessionid = $context.findValue("hitssessionid"))
				<div class="asset-data-readwritemetadata">
					#if($caneditasset)
						<a class="ajax"
							href="$siteroot$apphome/views/modules/asset/editor/edit/metadata/read.html?oemaxlevel=1&assetid=$asset.getId()&force=true" 
							data-targetdiv="tabsummarypanel"
							data-toastmessage="[[Reading Metadata]]"
							data-toastsuccess="[[Metadata read successfully]]"
							data-toasterror="[[Failed to read Metadata]]"
							data-confirm="[[Are you sure to read Original Metadata?]]" ><i class="fas fa-upload"></i> [[Read Metadata]]</a>
					#end
					#if($caneditasset)	
						<a class="ajax"
								href="$siteroot$apphome/views/modules/asset/editor/edit/metadata/write.html?oemaxlevel=1&assetid=$asset.getId()&force=true" 
								data-targetdiv="assetrwmetadata"
								data-toastmessage="[[Rewrite Metadata]]"
								data-toastsuccess="[[Metadata rewrite successfully]]"
								data-toasterror="[[Failed to rewrite Metadata]]"
								data-confirm="[[Are you sure to Rewrite Metadata to the Original file?]]" ><i class="fas fa-download"></i> [[Rewrite Metadata]]</a>
					#end
					#if($caneditasset && $canrunaiinformatics)
						<a class="ajax"	href="$siteroot$apphome/views/modules/asset/editor/edit/metadata/rerunai.html?oemaxlevel=1&assetid=$asset.getId()&force=true" 
							data-targetdiv="tabsummarypanel" 
							data-toastmessage="[[Runing AI Informatics]]"
							data-toastsuccess="[[AI Informatics Updated]]"
							data-toasterror="[[Failed to run AI Informatics]]"
							data-confirm="[[Are you sure to Re-run AI Informatics?]]"
							><i class="fas fa-magic"></i> [[Re-run AI Informatics]]</a>
					#end
						
					
					
					<span id="assetrwmetadata"></span>
				</div>
			
	</div>
</div>
