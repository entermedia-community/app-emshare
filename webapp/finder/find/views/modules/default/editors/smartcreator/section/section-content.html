#set($type = $componentcontent.componenttype)

#ifnull($type)
#set($type = $context.getRequestParameter("type"))
#end

#ifnull($type)
#set($type = "paragraph")
#end

#set($ordering = $componentcontent.ordering)

#ifnull($ordering)
  #set($ordering = $context.getRequestParameter("ordering"))
#end

#ifnull($ordering)
  #set($ordering = 0)
#end

#set($data = $componentcontent.content)

#ifnotnull($data)
  $context.putPageValue("data", $data)
#end

<div class="creator-section-content $type #if($newcontent) new-content #end"
  #ifnotnull($componentcontent)
    id="component-$componentcontent.id"
    data-dataid="$componentcontent.id"
    data-ordering="$componentcontent.ordering"
  #end>
  #ifnotnull($componentcontent.componenttype)
    #set($label = $mediaarchive.getCachedData("componenttype", $type))
    <label class="component-label" for="component-$componentcontent.id">$label</label>
  #end
  <div class="editable-content"
    data-sectionid="${section.id}"
    #ifnotnull($componentcontent)
      id="editable-$componentcontent.id"
      data-componentcontentid="$componentcontent.id"
    #end
    data-componenttype="$type"
    data-ordering="$ordering"
    data-savepath="$edithome/section/create-componentcontent.html"
    title="[[Click to edit]]">
    $pages.include("$edithome/section/types/${type}.html", $context)
  </div>
  $pages.include("$edithome/section/ai-action.html", $context)
  <div class="action-btn-container">
    <div class="action-btn-group light-dropdown">
      $pages.include("$edithome/section/component-action.html", $context)
    </div>
  </div>
</div>
