$context.putPageValue("hits", $searchcategoryhits)

#set($topcategoryid = $context.getRequestParameter("searchcategory.value"))
$context.putPageValue("topcategoryid", $topcategoryid)

#set($moduleid = $module.id)

#set($expandedmodule = $moduleid)

#set( $parentmodule = $module)
$context.putPageValue("topmodule", $parentmodule)

#set($topentityid = $context.getRequestParameter("topentityid"))

$context.putPageValue("topmoduleid", "searchcategory")
	
$pages.include("${edithome}/categorybreadcrumb.html", $context)

<div class="d-flex h--36">
	
	#ifnotnull( $organizedModules)
		$pages.include("${edithome}/bymodule.html",$context)
	#end
	
	<div id="searchcategoryresults" class="flex-grow-1">
		#if($organizedModules.size() == 1)
			#set($bmodule = $organizedResults.getModules().iterator().next())
			
		 	#set($idhits = $organizedResults.getByType($bmodule.id,$context))
			$context.putPageValue("hits", $idhits)
			$context.putPageValue("module", $bmodule)
			#set($searchhome = "$apphome/views/modules/${bmodule.id}/results/default")
			$context.putPageValue("searchhome", $searchhome)
			$pages.include("${searchhome}/results.html",$context)
		#else
			$pages.include("$searchhome/results.html?resultviewmodulesearch=grid",$context)
		#end
	</div>
</div>

