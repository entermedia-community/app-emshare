
<div id="$edithomeid"  
	class="editdiv "
	data-autoreloadurl="${edithome}/index.html"
	data-edithome="${edithome}"
	
	data-edithomeid="${edithomeid}"
>

	<div class="clickableresultlist heightExcludingHeaderFooter"
		data-${module.id}hitssessionid="$!hits.getSessionId()"
		data-includesearchcontext="false"
		#ifnull( $searchcategoryid)
			#set($previewurl = "$edithome/index.html")
			data-url= "$previewurl"
			data-targetdiv="$edithomeid"
			data-oemaxlevel="1"
		#end
	>

	#ifnotnull($organizedResults)
		#if($organizedResults.isEmpty())
			<div class="emnoresults">[[No modules added in this category]]</div>
		#end

		#set($selectedmoduleid = $context.getRequestParameter("selectedmoduleid"))
		#ifnull($selectedmoduleid)
			#if(!$organizedResults.isEmpty())
				#set($selectedmodule = $organizedResults.getModules().iterator().next())
			#end
		#end

		#ifnull($selectedmodule)
			#set($selectedmodule = $mediaarchive.getCachedData("module",$selectedmoduleid) )
		#end
	#end
		#ifnotnull($selectedmodule)
			$context.putPageValue("selectedmodule",$selectedmodule)
			$pages.include("${edithome}/categorybreadcrumb.html", $context)
			<div class="d-flex h--36">
				$pages.include("${edithome}/bymodule.html",$context)
				<div id="searchcategoryresults" class="flex-grow-1">
					#set($idhits = $organizedResults.getByType($selectedmodule.id,$context))
					$context.putPageValue("hits", $idhits)
					$context.putPageValue("hitssessionid", $idhits.getSessionId())
					$context.putPageValue("module", $selectedmodule)
					
					#if($selectedmodule.id=="asset")
						$context.putPageValue("searchhome", "${apphome}/views/modules/asset/results/default")
						#set($edithome = "$apphome/views/modules/asset/editors/viewfilessearch")
					#else
						#set($edithome = "$apphome/views/modules/${selectedmodule.id}/editors/listentities")
					#end
					
					
					$context.putPageValue("edithome", $edithome)
					$pages.include("${edithome}/index.html",$context)
				</div>
			</div>
		#end
	</div>
</div>
