#if($organizedModules.size() > 1)
	<div class="searchcategorysidebar auto-active-container overflow-y">
		#ifnotnull($organizedHits)
			#set($assethits = $organizedHits.get("asset") )
		#end	
		#ifnotnull($assethits)
			#set( $total = $total + $assethits.size())
		#end
		
		#foreach($module in $organizedModules)
			#set($idhits = $organizedHits.get($module.id))
			$context.putPageValue("hits", $idhits)
			$context.putPageValue("module", $module)
			$context.putPageValue("moduleid", $module.id)
			$context.putPageValue("componenthome", "$apphome/views/modules/$module.id/components")
			
			#set($moduleicon = "grid")
			#if ($module.moduleicon)
				#set($moduleicon = $module.moduleicon)
			#end
				###set($entityurl = "$!siteroot$apphome/views/modules/$!{module.id}/index.html?$!{module.id}page=1&field=searchcategory&searchcategory.value=${searchcategory.id}&operation=exact")
			
			#set($url = "$edithome/index.html?searchcategoryid=$searchcategory.id&selectedmodule=${module.id}")
			
			#set($entitysourcetype = $hits.getActiveFilterValues().get("entitysourcetype")) 
			#if($module.id == "asset")
				#set($count = $assethits.size() )
			#else	
				#set($count = $entitysourcetype.getCount($module.id))
			#end	
			
			<div class="mb-2 auto-active-row #if($selectedmodule == $module.id) current #end">
				<a href="$url" 
					class="ajax btn btn-wide auto-active-link" 
					data-targetdiv="${edithomeid}" 
					data-updateurl="true" 
					data-oemaxlevel="1"
					data-includeeditcontext="false"
					data-includesearchcontext="false"
					data-${module.id}hitsessionid="$idhits.getSessionId()"
					>
					<i class="bi bi-$!{moduleicon} module-icon ns"></i> <span>#text($module) ($!{count})</span>
				</a>
			</div>
		#end
	</div>
#else
	<div class="emnoresults">	
		[[No modules added in this category]]
	</div>
#end