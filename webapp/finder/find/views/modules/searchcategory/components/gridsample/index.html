#if($organizedModules.size() > 0)
<div class="summary-container searchcategorysidebar">
<h3>[[View More]]:</h3>

#foreach($module in $organizedModules)
 
 		#set($idhits = $organizedHits.get($module.id))
		$context.putPageValue("hits", $idhits)
		$context.putPageValue("module", $module)
		$context.putPageValue("moduleid", $module.id)
		$context.putPageValue("componenthome", "$apphome/views/modules/$module.id/components")
 
 	
	   	#set( $favorites = $userprofile.get("favorites_"+$module.id))
		$context.putPageValue("favorites", $favorites)
		
		
		#set($moduleicon = "grid")
     	#if ($module.moduleicon)
     		#set($moduleicon = $module.moduleicon)
     	#end
     	
 		#set($entityurl = "$!siteroot$apphome/views/modules/$!{module.id}/index.html?$!{module.id}page=1&field=searchcategory&searchcategory.value=${searchcategory.id}&operation=exact")
		#if( $module.id == "asset") ##this is safe
				#set( $count = $hits.size()) 
			#else
				#set( $count = $filter.getCount($module.id) ) 
			#end
			#ifnull($count)
				#set( $count = $hits.size()) 
			#end

		<div>
		<a href="$entityurl" class="ajax" data-targetdiv="applicationcontent" data-oemaxlevel="4">
				<i class="bi bi-$!{moduleicon} module-icon" style="font-size:0.9em;line-height:1;"></i> #text($module) ($!{count})
		</a>
		</div>
#end
</div>
#end