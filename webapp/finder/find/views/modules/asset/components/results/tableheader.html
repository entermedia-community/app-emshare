<thead>
<tr id="tableheader" class="tableheader">
#if( $showtoolbar )
	<th class="firstheader" id="th-checkbox">
		<div class="w-100 h-100 d-flex align-items-center justify-content-center">
			<input name="pagetoggle" type="checkbox" #if($hits.isPageSelected()) checked #end />
			<div class="anchor ml-1 mt-1">
    	    	<div class="select-dropdown-open down"></div>
				<ul class="select-dropdown" style="display: none;">
					<li><a class="ajax selectpage" data-targetdiv="resultsheader" href="$siteroot$componenthome/results/togglepage.html?oemaxlevel=1&hitssessionid=$hits.getSessionId()&action=page">[[Select This Page]]</a></li>
					<li><a class="ajax  selectpage" data-targetdiv="resultsheader" href="$siteroot$componenthome/results/togglepage.html?oemaxlevel=1&hitssessionid=$hits.getSessionId()&action=all">[[Select All Results]]</a></li>
					<li><a class="ajax  deselectpage" data-targetdiv="resultsheader" href="$siteroot$componenthome/results/togglepage.html?oemaxlevel=1&hitssessionid=$hits.getSessionId()&action=none">[[Deselect All]]</a></li>
				</ul>
    		</div>
		</div>
	</th>
#end	

#set( $edit = $context.getRequestParameter("editheader"))
#if( !$edit || $edit == "false")
#set( $edit = false)
#end
	<th id="th-thumbnail"> [[Thumbnail]]  </th>
	#set( $sortby = $hits.getSearchQuery().getSortBy() )
	#foreach( $detail in $details)
	
		<th  class="sortable #if($edit)editcolumnheader #end #if( $sortby.startsWith($detail.getId() ) ) currentsort #if($sortby.endsWith("Up"))up #else down#end #end" id="th-$detail.id" sortby="$detail.id" data-sortby="$detail.id">
					
			<div id="$detail.id" hitssessionid="$hits.getSessionId()"  editing="$edit" class="headerdraggable headerdroppable"> 
					#text( $detail.name )
					#if($edit) 
						<a class="baseemenableonhover ajax edit-table-header" 
							data-targetdiv="$!module.getId()resultsarea"
							data-oemaxlevel="1"
							href="$siteroot$componenthome/results/addremovecolumns.html?searchtype=asset&hitssessionid=$hits.getSessionId()&editheader=true&removecolumn=$detail.id"><i class="bi bi-x"></i></a> 
					#elseif ($sortby.startsWith($detail.getId()))
		 				#if($sortby.endsWith("Up"))
		 					#set($sorticon="up")
		 				#else
		 					#set($sorticon="down")
		 				#end	
		 				&nbsp;<span class="sorticon bi bi-caret-$sorticon-fill"></span>
					#end
			</div>
		 </th>
	#end
	
	<th class="lastheader">
		#if(!$edit || $edit == "false")  
			<a class="ajax nav-hover text-center" 
				id="table-editor-close" 
				data-targetdiv="$!module.getId()resultsarea"
				data-oemaxlevel="2" 
				title="[[Edit Table Header]]"
				href="$siteroot$componenthome/results/index.html?searchtype=asset&hitssessionid=$hits.getSessionId()&editheader=true"><i class="bi bi-pencil-square"></i></a>
		#else
			<a class="ajax table-edit-close" 
				data-targetdiv="$!module.getId()resultsarea"
				data-oemaxlevel="1" 
				title="[[Close Edit Table Header]]"
				href="$siteroot$componenthome/results/index.html?searchtype=asset&hitssessionid=$hits.getSessionId()&editheader=">
				<i class="bi bi-x-lg"></i></a>
		#end
	</th>
</tr>
</thead>
