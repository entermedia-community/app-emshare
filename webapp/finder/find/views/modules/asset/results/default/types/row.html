#set($asset = $mediaarchive.getAssetSearcher().loadData($hit))
$context.putPageValue("asset", $asset)
$context.putPageValue("assetid", $hit.id)

#if($hits.isSelected(${hit.id}))
	#set($selectedrow = true)
#end

#if(!$title)		         	
	#if( $asset.assettitle )
		#set($title =  $asset.getText("assettitle",$context)) 
	#else 
		#set($title = $asset.getText("name",$context) )
	#end
#end

$context.putPageValue("title",$title)
     
<tr class="resultsdivdata resultsassetcontainer #if($selectedrow) emrowselected #end #if($isdraggable)assetdroppable sort-droppable #end"  
	data-rowid="$hit.id"  
	data-dataid="$hit.id"  
	data-sourcepath="$sourcepath"
	title="$sourcepath">


#if($enableactions)
	<td class="borderedcell checkbox" noclick="true"> 
		<input type="checkbox" class="selectionbox resultsselection" name="count" value="" #if($hits.isSelected(${hit.id})) checked #end data-dataid="${hit.id}" />
		<div id="check_${count}"></div>
	</td>
#end	

	#set( $type = $mediaarchive.getMediaRenderType($hit.fileformat))
	<td class="resultstablecell thumbnail assetdraggable" 
		data-dataid="${hit.id}" 
		data-ordering="$!{hit.ordering}"
		#if($type=="audio") noclick="true" #end 
		data-assetid="${hit.id}" 
		>

		$pages.include("${searchhome}/thumbnails/small.html",$context)
		
		##
		###set($assetwidth = $mediaarchive.getRealImageWidth($hit)) 
		##$context.putPageValue("assetwidth",$assetwidth)	
		###set($assetheight = $mediaarchive.getRealImageHeight($hit)) 
		##$context.putPageValue("assetheight",$assetheight)	
		
		##$pages.include("${searchhome}/thumbnails/${type}.html", $context)	
		
		
		$pages.include("${searchhome}/badges.html", $context)

	</td>

	#foreach( $detail in $details)
		#if( $detail.id == "name")
			#if( $hit.name )
	      		#set($value =  $asset.getText("name",$context))
	      	#elseif ( $asset.assettitle )
	      		#set($value =  $asset.getText("assettitle",$context))
	      	#else
	      		#set( $value = "" )
	      	#end
	      	#set($val = $value)
	    #else	
			#set($val =  $hit.get($detail.id) )
			#set($value = $searcherManager.getValue($hit, $detail, $context.getLocale() ) ) 
			
			#ifnull($val)
				#set($val = "")	
			#end		
		#end
		
		$!context.putPageValue("detail",$detail)
		$!context.putPageValue("val", $val)	
		$!context.putPageValue("value",$value)
		$!context.putPageValue("data", $hit)
		<td  class="resultstablecell $detail.id">
      $pages.include("$componenthome/xml/detailreadonly.html", $context)	        
		</td>	
	#end
	
		<td class="rowactions" noclick="true">
			<div class="actionicons">
				$context.putPageValue("assetid",$hit.id)
			    <div id="mvassetfavorite-$hit.id" class=" mb-2">
		        	$pages.include("$apphome/views/modules/asset/editor/favorite/index.html?targetdiv=mvassetfavorite", $context)
		   		</div>
				
				#if(($candownload || $canconvert || $candownloadfpo) && $canquickdownload)
				
					#set($dlink =  "$applink/views/modules/asset/activity/downloadassets.html")
				   	<a href="$dlink" class="emdialog" data-dialogid="downloaddialog"  data-assetid="$hit.id" data-hidefooter="true" title="[[Download]] $!title">
						   <i class="bi bi-cloud-arrow-down bi2"></i></a>
				    
				    
			    #end
		    </div>
			</td>	
 </tr>
 
 
 