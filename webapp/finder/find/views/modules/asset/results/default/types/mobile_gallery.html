<div id="gridresultsdiv" 
	class="scroll-resultsdiv"
	data-${module.id}hitssessionid="$hits.getSessionId()" 
	data-category="$!category.getId()" 
	data-componenthome="$!home$!componenthome"
	data-searchhome="$!home${searchhome}"
	data-pagenum="$!hits.getPage()"  
	data-collectionid="$!librarycol.getId()"
	data-totalpages="$hits.getTotalPages()"
	data-section="$!content.section">

	#if( $hideheader &&  $hideheader != "true")
		$pages.include("${searchhome}/resultheader.html",$context) 
	#end

	$context.putPageValue("assetrootfolder", "/$catalogid/assets")

	#if( $category )
		#set( $catid = $category.id )
	#else
		#set( $catid = "index" )
	#end

	#if ( $hits && $hits.size() > 0 )
    #set( $details = $mediaarchive.getAssetSearcher().getDetailsForView("asset/resultstable",$context.getUserProfile()) )
    $context.putPageValue("details",$details)

		#set( $viewerlink = $content.get("assetviewerlink") )
				
		<div class="scrollview">
			<div class="emgallery">
				<div id="emslidesheet">
					#set( $rootid = $hits.sessionId )
					#set($count = 0)
					#foreach ($hit in $hits.getPageOfHits())
						#set ($sourcepath = $hit.sourcepath)
						
						$context.putPageValue("hit", $hit)
						#set( $rendertype = $mediaarchive.getMediaRenderType($hit.fileformat))
						$context.putPageValue("rendertype", $rendertype)
				
						#set( $click = "$siteroot$!viewerlink?assetid=$hit.id&categoryid=$catid&hitssessionid=$rootid" )
						
						$context.putPageValue("clink", $clink)
						$context.putPageValue("assetid", $hit.id)
						$context.putPageValue("count", $count )
						$context.putPageValue("click", $click)
						$context.putPageValue("sourcepath", $sourcepath)
						
						$pages.include("${searchhome}/types/mobile_gallery-cell.html", $context)
						
						#set ( $count = $count + 1)
					#end
				</div>
			</div>
		</div>
	#end
	#if ( $hits.getPageOfHits().size() == 0 )
		$pages.include("$!{searchhome}/empty.html", $context)
	#end
</div>