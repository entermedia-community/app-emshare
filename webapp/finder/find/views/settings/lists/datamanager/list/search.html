#set( $searchtype = $context.getRequestParameter("searchtype") )
#set($searcher = $mediaarchive.getSearcherManager().getSearcher($catalogid,$searchtype))
#set( $view = $context.getRequestParameter("view") )
#if( !$view )
    #set( $view = "${searcher.searchType}/${searcher.searchType}search.xml")
#end
$context.putPageValue("hits",$datalist) 

#set( $details = $searcher.getStoredProperties() )

$context.putPageValue("details",$details) 

<div id="advanced-dm-search" >
            <form id="simple-dm-search-h" class="novalidate" style="width: 100%" name="search" method="post" 
            	action="$home$content.dataroot/list/index.html"
            	class="inlineform ajaxform"
        		data-targetdivinner="datamanager-workarea"
        		data-colsedialog="true">
        			#if( $hits.getInput("id") == "*")
        				[[All]]
        				$context.putPageValue("hits",false)
        			#end
        			
        			
        			$context.putPageValue("caneditlists",false) 
        			
                    $pages.include("/${applicationid}/components/xml/searchfields.html",$context)
                    
                    <input type="hidden" name="catalogid" value="$!searcher.catalogId" />
                    <input type="hidden" name="searchtype" value="$!searcher.searchType" />
                    <input type="hidden" name="view" value="$!view" />
                    <input class="btn btn-sm btn-primary" type="submit" value="[[Search]]" />
            </form>
        </div>