
<h3>[[Transcoder Paremeters]]</h3>


<div id="editlayout" class="mt-4 mr-1" style="width:650px;">

	#set( $origURL = $context.getRequestParameter("origURL" ) )

	$context.putPageValue("viewid", "presetdatageneral")
	
	<form id="dataeditor-settings" name="dataeditor-settings" 
			method="post" 
			action="$siteroot$content.searchhome/edit/save.html"
			class="ajaxform"
			data-targetdiv="settingslayout"
			data-oemaxlevel="3" >
		<input name="save" type="hidden" value="true" />
		<input name="id" type="hidden" value="$!data.id" />
		<input name="categoryid" type="hidden" value="$!categoryid" />
		<input name="catalogid" type="hidden" value="$searcher.catalogId" />
		<input name="searchtype" type="hidden" value="$searcher.searchType" />
		<input name="origURL"  type="hidden" value="$!origURL" />
		$pages.include("$apphome/components/xml/detaileditor.html", $context)
	
		<div class="ui-widget-actions">
		<a class="btn btn-sm btn-primary submitform" href="#"><span>[[Save]]</span></a>
		<a class="btn btn-sm btn-secondary ajax" 
			href='$!{apphome}/views/settings/modules/asset/presetconfig/index.html'
			data-targetdivinner="settingslayout"
			data-oemaxlevel="3"><span>[[Cancel]]</span></a>
		#ifnotnull($data.id)
		<a class="btn btn-sm btn-danger confirm ajax" 
			data-confirm="[[Are you sure?]]"
			href='$!{apphome}/views/settings/modules/asset/presetconfig/edit/delete.html?searchtype=$searcher.searchType&catalogid=$searcher.catalogId&id=$!data.id'
			data-targetdivinner="settingslayout"
			data-oemaxlevel="3">[[Delete]]</a>
		#end
		</div>
		##<div id="messagearea">$!message</div>
	</form>
	
	
	#if( $savedok && $origURL )
		<a href="$origURL">[[Go Back]]</a>	
	#end





#if($data && $data.id)
	<div class="mr-4">
	<h3>[[Preset Parameters]]</h3>
	
	<div class="tab-actions mb-2">
		<a class="btn btn-primary emdialog" 
			href="$!{apphome}/views/settings/modules/asset/presetconfig/presetparameter/addnew.html"
			data-parameterdata="${data.id}"
			data-hidefooter="true"
			title="[[New Parameter]]"
			>[[Add New Parameter]]</a>
	</div>
	
	
	#set($searcher = $searcherManager.getSearcher($catalogid, "presetparameter"))
	#set( $query = $searcher.createSearchQuery() )
	#set( $null = $query.addMatches("parameterdata",$data.id) )
	##$query.addSortBy("inputtype")
	$query.addSortBy("ordering")
	
	
	<div class="emselectable showmodal"  
		data-dialogwidth="500" 
		title="[[Edit Parameter]]" 
		data-hidefooter="true" 
		data-url="/${applicationid}/views/settings/modules/asset/presetconfig/presetparameter/edit.html"
		data-parameterdata="${data.id}">
	<table class="table table-striped table-hover emdata">
		<thead>
			<tr class="tableheader">
				
				<th style="width: 40%">[[Parameter Name]]</th>
				<th>[[Parameter Value]]</th>
			</tr>
		</thead>
		<tbody>
			#foreach($row in $searcher.search($query) )
			<tr rowid="$row.id" >
					<td>				
						$!context.putPageValue("value",$row.get("name"))		
						$!context.putPageValue("data",$row)		
						$pages.include("$apphome/components/xml/detailreadonly.html", $context)
					</td>
					<td class="pl-3">				
						$!context.putPageValue("value",$row.get("value"))		
						$!context.putPageValue("data",$row)		
						$pages.include("$apphome/components/xml/detailreadonly.html", $context)
					</td>
				
			</tr>
			#end
		</tbody>
	</table>
	

	</div>
	
	
	
	
	
	
	</div>
#end


</div>