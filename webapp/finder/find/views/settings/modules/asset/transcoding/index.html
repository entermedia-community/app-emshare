#set($searcher = $searcherManager.getSearcher($catalogid, "convertpreset"))
$!context.putPageValue("searcher",$searcher)		

#set( $query = $searcher.createSearchQuery() )
#set( $null = $query.addMatches("id","*") )
##$query.addSortBy("inputtype")
$query.addSortBy("ordering")

#set( $details = $searcher.getDetailsForView("convertpresetresultstable",$userprofile) )
<div class="tab-actions">
	<a class="btn btn-primary float-right ajax" 
		href="$siteroot$content.searchhome/edit/addnew.html"
		data-targetdivinner="applicationmaincontent"
		data-oemaxlevel="3">[[Add New Conversion]]</a>
	<div class="clearfix"></div>
</div>

<div  class="emselectable">
<table class="table table-striped table-hover emdata">
	<thead>
		<tr class="tableheader">
			#foreach( $detail in $details)
			<th>$detail.getText($context)</th>
			#end
		</tr>
	</thead>
	<tbody>
		#foreach($row in $searcher.search($query) )
		<tr rowid="$row.id" >
			#foreach( $detail in $details)
				$!context.putPageValue("detail",$detail)
				<td>		
				#set( $value = false)
				#set($value = $searcherManager.getValue($row, $detail, $context.getLocale())) 
				#if( $value)
					$!context.putPageValue("val",$val)
					$!context.putPageValue("value",$value)		
					$!context.putPageValue("data",$row)		
		
					$pages.include("$apphome/components/xml/detailreadonly.html", $context)
				#end
				</td>
			#end
		</tr>
		#end
	</tbody>
</table>
<form name="editview" 
		class="ajaxform" 
		action="$!siteroot$content.searchhome/edit/edit.html"
		data-targetdiv="applicationmaincontent"
		data-oemaxlevel="4"
		data-updateurl="true"> 
		<input type="hidden" name="id" id="emselectedrow">
</form>
</div>