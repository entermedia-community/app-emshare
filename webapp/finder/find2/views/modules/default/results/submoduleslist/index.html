#set($viewsearcher = $searcherManager.getSearcher($catalogid, "view"))
#set($viewid = $context.getRequestParameter("viewid"))
$context.putPageValue("viewid", $!viewid)
#set( $viewpath = "${module.id}/${viewid}")
#set($viewdata = $viewsearcher.searchById($viewid))
$context.putPageValue("viewpath", $!viewpath)

#set($sortby = $!viewdata.rendersort)

#set($submoduleid = $!viewdata.rendertable)
#set($module = $mediaarchive.getCachedData("module",$submoduleid))
$context.putPageValue("module", $module)
#set($searchhome = "$apphome/views/modules/${submoduleid}/results/submoduleslist")
$context.putPageValue("searchhome", $searchhome)
#set($args = "field=$!{entitymodule.id}&$!{entitymodule.id}.value=$!{entity.id}&operation=exact&sortby=$!sortby")
$pages.include("${searchhome}/search.html?$!args",$context)