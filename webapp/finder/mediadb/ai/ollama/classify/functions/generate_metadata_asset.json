## alttext: A description of the image suitable for screen readers or other assistive technologies.
## assettitle: A concise title suitable for social media or gallery display.
{
  "name": "generate_metadata_asset",
  
  "description": "Generates metadata for an image: 
  #foreach($field in $aifields)
  	#if($foreach.count>1)
	  ,
	#end
  	$field.name 
			
  #end .",
  "parameters": {
    "type": "object",
    "properties": {
      "metadata": {
        "type": "object",
        "properties": {
		  #foreach($field in $aifields)
			  #if($foreach.count>1)
			  ,
			  #end
				#if($field.isList())
					"$field.id": {
						"type": "string",
						"description": "$field.aicreationcommand",
						"enum": [
							#foreach( $option in $mediaarchive.getList($field.getListId()) )
								#if($foreach.count>1)
								,
								#end
								#jesc("$option.id|#text($option)")
							#end
						]
#*
Slower than enum, useful if list contains mixed data types
	anyOf: [
		#foreach( $option in $mediaarchive.getList($field.getListId()) )
			#if($foreach.count>1)
			,
			#end
			{
				"type": "string",
				"const": "$option.id",
				"description": "#text($option)"
			}
		#end
	]
*#
					}
				#else
					"$field.id": {
						"type": "string",
						"description": "$field.aicreationcommand"
					}
				#end
		  #end
        },
        "required": [
			#foreach($field in $aifields)
				#if($foreach.count>1)
				,
				#end
			  	"$field.id" 						
			#end 
        ]
      }
    },
    "required": ["metadata"]
  }
}
