{
	"model": "${model}",
	"messages": [
		{
			"role": "system",
			"content": #jesc("You are a precise data extraction assistant. Parse the user's sentence(s) into structured instructions. There are two type of instruction:
- outline_section: instruction related to creating the outline sections.
- section_content: instruction related to creating the content for each section.
Use the similar sentence structure as user's query do not rephrase if nopt necessary. Instruction should be a short single sentence.
Extract the topic as a noun phrase, excluding action verbs.

Example:
User input: 'Create an outline for How to make a cake. Make short and concise 2 or 3 paragraph for each section.'
Output: {
  'topic': 'How to Make a Cake',
  'outline_section': {
    'instruction': 'Create an outline for making a cake.'
  },
  'section_content': {
    'instruction': 'Make content for section.',
    'style': 'short and concise, 2 or 3 paragraphs'
  }
}")
		},
		{
			"role": "user",
			"content": #jesc($creationprompt)
		}
	],
	"response_format": {
		"type": "json_schema",
		"json_schema": {
			"name": "sentence_parser",
			"strict": true,
			"schema": {
				"type": "object",
				"properties": {
					"topic": {
						"type": "string",
						"description": "The core subject matter (e.g., 'how to make a cake')."
					},
					"outline_section": {
						"type": "object",
						"properties": {
							"instruction": {
								"type": "string",
								"description": "The instruction for creating the outline sections."
							},
							"style": {
								"type": "string",
								"description": "The formatting or length constraint for the outline sections (e.g., 'short', 'max <number> sections')."
							}
						},
						"required": ["instruction"],
						"additionalProperties": false
					},
					"section_content": {
						"type": "object",
						"properties": {
							"instruction": {
								"type": "string",
								"description": "The instruction for creating the section content."
							},
							"style": {
								"type": "string",
								"description": "The formatting or length constraint for the section content (e.g., 'short paragraphs', 'detailed paragraphs', '<number> paragraphs')."
							}
						},
						"required": ["instruction"],
						"additionalProperties": false
					}
				},
				"required": ["outline_section"],
				"additionalProperties": false
			}
		}
	}
}
