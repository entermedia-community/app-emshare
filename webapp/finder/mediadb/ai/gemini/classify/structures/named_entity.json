{ 
	"contents": [
		{
			"role": "system",
			"parts": [{
				"text": #jesc($fieldparams.aicreationdescription)
			}]
		},
		{
			"role": "user",
			"parts": [{
				"text": "$fieldparams.aicreationcommand #foreach($field in $contextfields) #if($foreach.count>1),\n#end ${field.label}: ${field.text} #end"
			}]
		}
	],
	"generationConfig": {
		"responseMimeType": "application/json",
		"responseSchema": {
			"type": "OBJECT",
			"properties": {
				"categories": {
					"type": "OBJECT",
					"properties": {
						#foreach($table in $tables)
							#if($foreach.count>1)
							,
							#end
							"$table.sourcetype": {
								"type": "ARRAY",
								"description": "$table.aicreationdescription",
								"items": {
									"type": "STRING"
								}
							}
						#end
					},
					"required": [#foreach($table in $tables) #if($foreach.count>1), #end "$table.sourcetype" #end]
				}
			},
			"required": ["categories"]
		}
	}
}
