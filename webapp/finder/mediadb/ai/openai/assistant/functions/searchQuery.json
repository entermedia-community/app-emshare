{
	"name": "searchQuery",
	"description": "Breaks a search query into structured parts. Used for understanding user queries and extracting search type, intended action, keywords, filters, and targets.",
	"parameters": {
		"type": "object",
		"properties": {
			"search_type": {
				"type": "string",
				"enum": ["bulk", "one"],
				"description": "The type of search, defaults to bulk"
			},
			"keywords": {
				"type": "array",
				"items": { "type": "string" },
				"description": "The exact keywords to search for, such as name of the file, tags, description, phrase or concept"
			},
			"strict": {
				"type": "boolean",
				"description": "Whether all filters must match exactly"
			},
			"targets": {
				"type": "array",
				"items": { "type": "string" },
				"anyOf": [
			#set($modules = $assistant.loadUserSearchModules($chatprofile))
			#foreach($module in $modules)
				#if($foreach.count>1),#end
					{
						"type": "string",
						"enum": ["${module.id}", "${module.name}"]
					}
			#end
				],
				"description": "The targets to search within, such as modules, categories, departments, etc. If not specified, this should be an empty array and all targets will be searched."
			},
			"explainer": {
				"type": "string",
				"description": "Join all keywords and targets (if exists) into a human readable sentence to convey what action is being taken. Example: 'Searching for cats' or 'Searching for dogs in Photos and Videos.'"
			}
		},
		"required": ["search_type", "keywords", "explainer"]
	}
}
